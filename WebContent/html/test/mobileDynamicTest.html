<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <!-- prevent cache -->
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="pragma" content="no-cache">
    <title>Mobile Application 1</title>
    <!-- dynamically apply native visual theme according to the browser user agent -->
    <script type="text/javascript" src="../../js/dojo/dojox/mobile/deviceTheme.js"></script>
    <!-- dojo configuration options -->
    <script type="text/javascript">
        dojoConfig = {
            async: true,
            parseOnLoad: false
        };
    </script>
    <!-- dojo bootstrap -->
    <script type="text/javascript" src="../../js/dojo/dojo/dojo.js" djConfig="parseOnLoad: false, modulePaths:{com:'../com'}"></script>
    <!-- dojo application code -->
    <script>
    	var controller = null;
        // Load the widget parser and mobile base
        require([
			"dijit/registry",
            "com/onwebbe/dojo/mobile/MobileDynamicViewController",
            "dojox/mobile/parser",
            "dojox/mobile/compat",
            "dojox/mobile/ScrollableView",
            "dojox/mobile/Heading",
            "dojox/mobile/ToolBarButton",
            "dojox/mobile/TabBar",
            "dojox/mobile/TabBarButton",
            "dojox/mobile/ListItem",
            "dojox/mobile/Button",
            "dojox/mobile/ContentPane",
            "com/onwebbe/dojo/mobile/travelPlan/TravelDraftInfoPane",
            "dojo/domReady!"
        ], function (registry, Controller, parser) {
            // Parse the page for widgets
            parser.parse();
			controller = new Controller(true,true);
			controller.setCurrentView(registry.byId("mainFunction"));
        });
       function switchView(url){
    	   controller.switchView(url);
       }
    </script>
</head>
<body style="visibility:hidden;">
<div id="mainFunction" data-dojo-type="dojox/mobile/ScrollableView" data-dojo-props="selected: true">
<div data-dojo-type="dojox/mobile/Heading" data-dojo-props="fixed: 'top', label: ''">
      <span id="helpButton" data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props="label:'Help', moveTo:'help', transition:'none', icon: '../../images/help.png'" style="float:right;"></span>
      <img id="addNewFormButton" src="../../images/add.png" style="float:left;margin-left:10px;margin-top:5px;"></img>
</div>

<div data-dojo-type="dojox/mobile/ContentPane" id="mainScreenContent"></div>
<li data-dojo-type="dojox/mobile/ListItem" data-dojo-props='moveTo:"#", transition:"slide"' onclick="switchView('t1.html')">
   Update View
</li>

<ul data-dojo-type="dojox/mobile/TabBar" data-dojo-props="center:true" single="true" fixed="bottom">
	<li data-dojo-type="dojox/mobile/TabBarButton" selected="true" icon="../../images/listing.png"></li>
	<li data-dojo-type="dojox/mobile/TabBarButton" icon="../../images/history.png"></li>
	<li data-dojo-type="dojox/mobile/TabBarButton" icon="../../images/settings.png"></li>
</ul>
</div>
<div id="test" data-dojo-type="com/onwebbe/dojo/mobile/travelPlan/TravelDraftInfoPane" data-dojo-props="testparam2:'test2'">
</div>
</body>
</html>